<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: G Pages: 1 -->
<svg width="1686pt" height="404pt"
 viewBox="0.00 0.00 1686.19 403.79" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 399.79)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-399.79 1682.19,-399.79 1682.19,4 -4,4"/>
<!-- invisible_sink1 -->
<g id="node1" class="node">
<title>invisible_sink1</title>
<ellipse fill="black" stroke="black" cx="1646.99" cy="-191" rx="0" ry="0"/>
</g>
<!-- invisible_sink2 -->
<g id="node2" class="node">
<title>invisible_sink2</title>
<ellipse fill="black" stroke="black" cx="1646.99" cy="0" rx="0" ry="0"/>
</g>
<!-- invisible_sink1&#45;&gt;invisible_sink2 -->
<!-- Source1 -->
<g id="node3" class="node">
<title>Source1</title>
<ellipse fill="none" stroke="black" cx="42.9" cy="-270" rx="42.79" ry="18"/>
<text text-anchor="middle" x="42.9" y="-266.3" font-family="Times,serif" font-size="14.00">Source</text>
</g>
<!-- Shard1 -->
<g id="node4" class="node">
<title>Shard1</title>
<ellipse fill="none" stroke="black" cx="1182.29" cy="-332" rx="47.39" ry="18"/>
<text text-anchor="middle" x="1182.29" y="-328.3" font-family="Times,serif" font-size="14.00">Shard 1</text>
</g>
<!-- Source1&#45;&gt;Shard1 -->
<!-- Queue1 -->
<g id="node7" class="node">
<title>Queue1</title>
<polygon fill="none" stroke="blue" stroke-width="2" points="811.79,-288 293.79,-288 293.79,-252 811.79,-252 811.79,-288"/>
<text text-anchor="middle" x="552.79" y="-266.3" font-family="Times,serif" font-size="14.00">Incoming Queue allowed to fill to 10 PGas unaffected by backpressure</text>
</g>
<!-- Source1&#45;&gt;Queue1 -->
<!-- Source1&#45;&gt;Queue1 -->
<!-- Source1&#45;&gt;Queue1 -->
<g id="edge11" class="edge">
<title>Source1&#45;&gt;Queue1</title>
<path fill="none" stroke="red" stroke-width="3" d="M75.17,-258.09C84.26,-255.17 94.31,-252.47 103.79,-251 209.09,-234.7 329.85,-241.26 419.44,-250.9"/>
<polygon fill="red" stroke="red" stroke-width="3" points="419.06,-254.38 429.39,-251.99 419.83,-247.42 419.06,-254.38"/>
<text text-anchor="middle" x="189.79" y="-254.8" font-family="Times,serif" font-size="14.00">blockd tx to shard 1+2</text>
</g>
<!-- Source2 -->
<g id="node8" class="node">
<title>Source2</title>
<ellipse fill="none" stroke="black" cx="42.9" cy="-130" rx="42.79" ry="18"/>
<text text-anchor="middle" x="42.9" y="-126.3" font-family="Times,serif" font-size="14.00">Source</text>
</g>
<!-- Source1&#45;&gt;Source2 -->
<!-- Sink1 -->
<g id="node5" class="node">
<title>Sink1</title>
<ellipse fill="none" stroke="black" cx="1646.99" cy="-353" rx="31.4" ry="18"/>
<text text-anchor="middle" x="1646.99" y="-349.3" font-family="Times,serif" font-size="14.00">Sink</text>
</g>
<!-- Shard1&#45;&gt;Sink1 -->
<!-- Shard1&#45;&gt;Sink1 -->
<g id="edge12" class="edge">
<title>Shard1&#45;&gt;Sink1</title>
<path fill="none" stroke="green" stroke-width="3" d="M1222.57,-341.68C1231.16,-343.44 1240.24,-345.02 1248.79,-346 1378.59,-360.87 1533.79,-357.57 1605.72,-354.84"/>
<polygon fill="green" stroke="green" stroke-width="3" points="1605.86,-358.34 1615.71,-354.45 1605.58,-351.35 1605.86,-358.34"/>
<text text-anchor="middle" x="1471.29" y="-360.8" font-family="Times,serif" font-size="14.00">1000 Tgas / 1000 Tgas</text>
</g>
<!-- Buffer1 -->
<g id="node6" class="node">
<title>Buffer1</title>
<polygon fill="none" stroke="red" stroke-width="2" points="1578.79,-317 1363.79,-317 1363.79,-281 1578.79,-281 1578.79,-317"/>
<text text-anchor="middle" x="1471.29" y="-295.3" font-family="Times,serif" font-size="14.00">Outgoing Buffer fills to max</text>
</g>
<!-- Shard1&#45;&gt;Buffer1 -->
<g id="edge14" class="edge">
<title>Shard1&#45;&gt;Buffer1</title>
<path fill="none" stroke="red" stroke-width="2" d="M1229.27,-329.3C1261.86,-327.15 1306.59,-323.71 1345.79,-319 1348.36,-318.69 1350.96,-318.37 1353.57,-318.03"/>
<polygon fill="red" stroke="red" stroke-width="2" points="1354.29,-321.47 1363.74,-316.69 1353.37,-314.53 1354.29,-321.47"/>
<text text-anchor="middle" x="1297.29" y="-330.8" font-family="Times,serif" font-size="14.00">backpressure</text>
</g>
<!-- Sink1&#45;&gt;invisible_sink1 -->
<!-- Buffer1&#45;&gt;Shard1 -->
<!-- Buffer1&#45;&gt;Shard1 -->
<!-- Buffer1&#45;&gt;Sink1 -->
<!-- Buffer2 -->
<g id="node11" class="node">
<title>Buffer2</title>
<polygon fill="none" stroke="red" stroke-width="2" points="1578.79,-123 1363.79,-123 1363.79,-87 1578.79,-87 1578.79,-123"/>
<text text-anchor="middle" x="1471.29" y="-101.3" font-family="Times,serif" font-size="14.00">Outgoing Buffer fills to max</text>
</g>
<!-- Buffer1&#45;&gt;Buffer2 -->
<!-- Queue1&#45;&gt;Shard1 -->
<!-- Queue1&#45;&gt;Shard1 -->
<g id="edge13" class="edge">
<title>Queue1&#45;&gt;Shard1</title>
<path fill="none" stroke="green" stroke-width="3" d="M680.37,-288.02C727.25,-294.29 780.88,-301 829.79,-306 933.73,-316.61 1055.37,-324.64 1124.88,-328.8"/>
<polygon fill="green" stroke="green" stroke-width="3" points="1124.97,-332.31 1135.16,-329.41 1125.38,-325.32 1124.97,-332.31"/>
<text text-anchor="middle" x="972.79" y="-330.8" font-family="Times,serif" font-size="14.00">guaranteed 1000 Tgas flow if congested</text>
</g>
<!-- Queue1&#45;&gt;Buffer1 -->
<!-- Queue1&#45;&gt;Buffer2 -->
<g id="edge34" class="edge">
<title>Queue1&#45;&gt;Buffer2</title>
<path fill="none" stroke="red" stroke-width="2" d="M822.09,-255.72C947.51,-245.12 1098.1,-226.75 1230.79,-195 1303.8,-177.53 1384.79,-143.9 1431.41,-123.06"/>
<polygon fill="red" stroke="red" stroke-width="2" points="821.64,-252.24 811.96,-256.56 822.22,-259.22 821.64,-252.24"/>
<text text-anchor="middle" x="1182.29" y="-218.8" font-family="Times,serif" font-size="14.00">backpressure</text>
</g>
<!-- Queue2 -->
<g id="node12" class="node">
<title>Queue2</title>
<polygon fill="none" stroke="blue" stroke-width="2" points="811.79,-148 293.79,-148 293.79,-112 811.79,-112 811.79,-148"/>
<text text-anchor="middle" x="552.79" y="-126.3" font-family="Times,serif" font-size="14.00">Incoming Queue allowed to fill to 10 PGas unaffected by backpressure</text>
</g>
<!-- Queue1&#45;&gt;Queue2 -->
<!-- Shard2 -->
<g id="node9" class="node">
<title>Shard2</title>
<ellipse fill="none" stroke="black" cx="1182.29" cy="-63" rx="47.39" ry="18"/>
<text text-anchor="middle" x="1182.29" y="-59.3" font-family="Times,serif" font-size="14.00">Shard 2</text>
</g>
<!-- Source2&#45;&gt;Shard2 -->
<!-- Source2&#45;&gt;Queue2 -->
<!-- Source2&#45;&gt;Queue2 -->
<!-- Source2&#45;&gt;Queue2 -->
<g id="edge29" class="edge">
<title>Source2&#45;&gt;Queue2</title>
<path fill="none" stroke="red" stroke-width="3" d="M75.17,-118.09C84.26,-115.17 94.31,-112.47 103.79,-111 209.09,-94.7 329.85,-101.26 419.44,-110.9"/>
<polygon fill="red" stroke="red" stroke-width="3" points="419.06,-114.38 429.39,-111.99 419.83,-107.42 419.06,-114.38"/>
<text text-anchor="middle" x="189.79" y="-114.8" font-family="Times,serif" font-size="14.00">blocked tx to shard 1+2</text>
</g>
<!-- Sink2 -->
<g id="node10" class="node">
<title>Sink2</title>
<ellipse fill="none" stroke="black" cx="1646.99" cy="-54" rx="31.4" ry="18"/>
<text text-anchor="middle" x="1646.99" y="-50.3" font-family="Times,serif" font-size="14.00">Sink</text>
</g>
<!-- Shard2&#45;&gt;Sink2 -->
<!-- Shard2&#45;&gt;Sink2 -->
<g id="edge30" class="edge">
<title>Shard2&#45;&gt;Sink2</title>
<path fill="none" stroke="green" stroke-width="3" d="M1225.01,-55.09C1297.3,-42.53 1450.42,-21.01 1578.79,-37 1588.81,-38.25 1599.47,-40.5 1609.29,-42.97"/>
<polygon fill="green" stroke="green" stroke-width="3" points="1608.58,-46.4 1619.14,-45.59 1610.38,-39.64 1608.58,-46.4"/>
<text text-anchor="middle" x="1471.29" y="-40.8" font-family="Times,serif" font-size="14.00">1000 Tgas / 1000 Tgas</text>
</g>
<!-- Shard2&#45;&gt;Buffer2 -->
<g id="edge32" class="edge">
<title>Shard2&#45;&gt;Buffer2</title>
<path fill="none" stroke="red" stroke-width="2" d="M1217.98,-74.98C1227.84,-78.01 1238.65,-80.97 1248.79,-83 1282.59,-89.77 1319.73,-94.49 1353.77,-97.77"/>
<polygon fill="red" stroke="red" stroke-width="2" points="1353.47,-101.26 1363.75,-98.7 1354.12,-94.29 1353.47,-101.26"/>
<text text-anchor="middle" x="1297.29" y="-100.8" font-family="Times,serif" font-size="14.00">backpressure</text>
</g>
<!-- Sink2&#45;&gt;invisible_sink2 -->
<!-- Buffer2&#45;&gt;Shard2 -->
<!-- Buffer2&#45;&gt;Shard2 -->
<!-- Buffer2&#45;&gt;Sink2 -->
<!-- Queue2&#45;&gt;Buffer1 -->
<g id="edge33" class="edge">
<title>Queue2&#45;&gt;Buffer1</title>
<path fill="none" stroke="red" stroke-width="2" d="M822.31,-143.08C993.82,-152.33 1191.22,-165 1230.79,-176 1313.88,-199.1 1401.61,-252.79 1444.13,-280.98"/>
<polygon fill="red" stroke="red" stroke-width="2" points="822.26,-139.57 812.09,-142.53 821.89,-146.56 822.26,-139.57"/>
<text text-anchor="middle" x="1182.29" y="-179.8" font-family="Times,serif" font-size="14.00">backpressure</text>
</g>
<!-- Queue2&#45;&gt;Shard2 -->
<!-- Queue2&#45;&gt;Shard2 -->
<g id="edge31" class="edge">
<title>Queue2&#45;&gt;Shard2</title>
<path fill="none" stroke="green" stroke-width="3" d="M719.01,-111.97C755.48,-108.18 793.93,-104.33 829.79,-101 956.77,-89.23 989.75,-97.4 1115.79,-78 1121.2,-77.17 1126.82,-76.14 1132.4,-75.01"/>
<polygon fill="green" stroke="green" stroke-width="3" points="1133.28,-78.4 1142.33,-72.9 1131.82,-71.55 1133.28,-78.4"/>
<text text-anchor="middle" x="972.79" y="-104.8" font-family="Times,serif" font-size="14.00">guaranteed 1000 Tgas flow if congested</text>
</g>
<!-- Queue2&#45;&gt;Buffer2 -->
</g>
</svg>
