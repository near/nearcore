# TODO(#4618): Those tests are currently broken.  Comment out while we’re
# working on a fix / deciding whether to remove them.
pytest --timeout=900 sanity/state_sync2.py
pytest --timeout=900 sanity/state_sync2.py nightly --features nightly

# TODO(#4618): Those tests are currently broken.  Comment out while we’re
# working on a fix / deciding whether to remove them.
pytest --timeout=300 sanity/state_sync_late.py notx
pytest --timeout=300 sanity/state_sync_late.py notx --features nightly

# TODO(#12108): Enable the test again once decentralized state sync is implemented.
pytest sanity/state_sync_decentralized.py
# TODO(#12108): Enable the test again once decentralized state sync is implemented.
pytest sanity/state_sync_decentralized.py --features nightly

# TODO(#13551): Enable after fixing flaky test
pytest --timeout=300 sanity/gc_after_sync.py
pytest --timeout=300 sanity/gc_after_sync.py --features nightly

# TODO(#13551): Enable after fixing flaky test
pytest --timeout=300 sanity/gc_sync_after_sync.py swap_nodes
pytest --timeout=300 sanity/gc_sync_after_sync.py swap_nodes --features nightly

# The state sync fail test checks that state sync fails during or after
# resharding. Currently it's disabled because resharding and congestion control
# are not fully integrated. There are two steps to be taken:
# TODO(congestion_control) - integration with resharding and enable fail_test
# TODO(resharding) - integration with state sync and adjust fail_test
# TODO(#9519)
pytest sanity/state_sync_fail.py
pytest sanity/state_sync_fail.py --features nightly

# Tests for resharding
# TODO(resharding) Tests for resharding are disabled because resharding is not
# compatible with stateless validation, state sync and congestion control.

# TODO(#11757)
pytest --timeout=120 sanity/resharding.py
pytest --timeout=120 sanity/resharding_rpc_tx.py
pytest --timeout=120 sanity/resharding_restart.py
pytest --timeout=120 sanity/resharding_error_handling.py

pytest --timeout=120 sanity/resharding.py --features nightly
pytest --timeout=120 sanity/resharding_rpc_tx.py --features nightly
pytest --timeout=120 sanity/resharding_restart.py --features nightly
pytest --timeout=120 sanity/resharding_error_handling.py --features nightly

# Tests for slow chunks and extreme undercharging
# TODO(#12847): this test is broken after an adjustment to the contracts on the workers.
# This should be uncommented again after we find the issue and fix it.
pytest sanity/slow_chunk.py
pytest sanity/slow_chunk.py --features nightly

# Epoch sync
# TODO(#13296): Enable after fixing flaky test
pytest --timeout=240 sanity/epoch_sync.py
pytest --timeout=240 sanity/epoch_sync.py --features nightly

# TODO(#6421): Currently broken.
pytest adversarial/start_from_genesis.py overtake doomslug_off
pytest adversarial/start_from_genesis.py overtake doomslug_off --features nightly

# TODO(#4618): Those tests are currently broken.  Comment out while we’re
# working on a fix.
pytest adversarial/gc_rollback.py
pytest adversarial/gc_rollback.py --features nightly