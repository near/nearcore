# nearcore

## Pull Requests
- Always follow the Pull Requests instructions from `CONTRIBUTING.md`.
- Use bullet-point description for PRs that highlight key changes, motivations, testing, and important context.
- Don't include a separate test plan section (or similar multi-section descriptions).
- Don't include "generated by AI" or similar footers.

## Protocol Schema Check
- Do NOT run the protocol schema check unless explicitly asked. It is expensive.
- When asked to update the schema, follow the instructions in `tools/protocol-schema-check/README.md` exactly.

## Testing
- When running tests, use `--features test_features`.

## Formatting
- Run `cargo fmt` after making changes. It's cheap.

## Clippy
- Only run clippy prior to making a commit. It is somewhat expensive.

## OpenAPI Spec
- Do NOT update the OpenAPI spec unless explicitly asked.
- When asked, follow the `openapi-spec` recipe in the `Justfile`.

## Consensus
- For high-level documentation on the consensus protocol, see `docs/ChainSpec/Consensus.md`.
- Doomslug is implemented in `chain/chain/src/doomslug.rs`.
